#!/bin/bash

echo "๐ ุจุฏุก ุชุดุบูู ูุธุงู ุฅุฏุงุฑุฉ ุงูุชุญูููุงุช ูุงูุจูุงุบุงุช ุงูุฌูุงุฆูุฉ"
echo "=============================================="

# ุงูุชุญูู ูู ูุฌูุฏ .NET SDK
if ! command -v dotnet &> /dev/null; then
    echo "โ .NET SDK ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุช .NET 8.0 SDK ุฃููุงู"
    exit 1
fi

echo "โ ุชู ุงูุนุซูุฑ ุนูู .NET SDK"

# ุงุณุชุนุงุฏุฉ ุงูุญุฒู
echo "๐ฆ ุงุณุชุนุงุฏุฉ ุงูุญุฒู..."
dotnet restore

if [ $? -ne 0 ]; then
    echo "โ ูุดู ูู ุงุณุชุนุงุฏุฉ ุงูุญุฒู"
    exit 1
fi

# ุจูุงุก ุงููุดุฑูุน
echo "๐จ ุจูุงุก ุงููุดุฑูุน..."
dotnet build

if [ $? -ne 0 ]; then
    echo "โ ูุดู ูู ุจูุงุก ุงููุดุฑูุน"
    exit 1
fi

echo "โ ุชู ุจูุงุก ุงููุดุฑูุน ุจูุฌุงุญ"

# ุชุดุบูู ุงููุดุฑูุน
echo "๐ ุชุดุบูู ุงููุดุฑูุน..."
echo "๐ ุงูุฑุงุจุท: http://localhost:5000"
echo "๐ ุจูุงูุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ:"
echo "   ุงุณู ุงููุณุชุฎุฏู: admin"
echo "   ูููุฉ ุงููุฑูุฑ: admin123"
echo ""
echo "โ๏ธ  ููุฅููุงู: ุงุถุบุท Ctrl+C"
echo "=============================================="

dotnet run --urls=http://localhost:5000
# نظام إدارة التحقيقات والبلاغات الجنائية
## Criminal Case & Report Management System

نظام شامل لإدارة البلاغات الجنائية والتحقيقات باستخدام ASP.NET Core MVC.

## 🚀 المميزات الرئيسية

### 1. إدارة المستخدمين والأدوار
- **مدير النظام**: صلاحيات كاملة لإدارة النظام
- **المحقق**: إدارة القضايا المعينة له
- **كاتب البلاغات**: إضافة وتعديل البلاغات

### 2. إدارة البلاغات
- إضافة بلاغات جديدة مع جميع التفاصيل
- البحث والتصفية المتقدمة
- ربط البلاغات بالمتهمين
- إرفاق المستندات والصور

### 3. إدارة القضايا
- إنشاء قضايا مرتبطة بالبلاغات
- تعيين المحققين للقضايا
- متابعة حالة القضية (قيد التحقيق، مغلقة، محولة للنيابة)
- إرفاق الأدلة والمستندات

### 4. إدارة المتهمين
- قاعدة بيانات شاملة للمتهمين
- ربط المتهمين بالقضايا والبلاغات
- تتبع تاريخ المتهم الجنائي

### 5. لوحة التحكم والإحصائيات
- إحصائيات شاملة عن النظام
- النشاطات الأخيرة
- توزيع القضايا حسب النوع والحالة

### 6. البحث والتصفية
- بحث متقدم في جميع أجزاء النظام
- تصفية حسب التاريخ والنوع والحالة
- نتائج سريعة ودقيقة

## 🛠 التقنيات المستخدمة

- **ASP.NET Core MVC 8.0**: إطار العمل الرئيسي
- **Entity Framework Core**: للتعامل مع قاعدة البيانات
- **SQLite**: قاعدة البيانات (يمكن تغييرها إلى SQL Server)
- **Bootstrap 5**: للواجهات المستجيبة
- **Font Awesome**: للأيقونات
- **BCrypt.Net**: لتشفير كلمات المرور

## 📋 متطلبات النظام

- .NET 8.0 SDK
- Visual Studio 2022 أو VS Code
- SQLite (مثبت تلقائياً مع Entity Framework)

## ⚡ التثبيت والتشغيل

### 1. استنساخ المشروع
```bash
git clone [repository-url]
cd CriminalCaseManagement
```

### 2. استعادة الحزم
```bash
dotnet restore
```

### 3. بناء المشروع
```bash
dotnet build
```

### 4. تشغيل المشروع
```bash
dotnet run
```

### 5. فتح المتصفح
افتح المتصفح وانتقل إلى: `https://localhost:5001` أو `http://localhost:5000`

## 🔐 بيانات الدخول الافتراضية

- **اسم المستخدم**: admin
- **كلمة المرور**: admin123
- **الدور**: مدير النظام

## 📊 هيكل قاعدة البيانات (ERD)

### الكيانات الرئيسية:
1. **Users** - المستخدمين
2. **Reports** - البلاغات
3. **Cases** - القضايا
4. **Suspects** - المتهمين
5. **Attachments** - المرفقات
6. **SuspectReports** - ربط المتهمين بالبلاغات
7. **SuspectCases** - ربط المتهمين بالقضايا

### العلاقات:
- **One-to-Many**: مستخدم → بلاغات، مستخدم → قضايا، بلاغ → قضايا
- **Many-to-Many**: متهمين ↔ بلاغات، متهمين ↔ قضايا
- **Polymorphic**: مرفقات → بلاغات/قضايا

## 🎯 الميزات المتقدمة

### 1. الأمان
- تشفير كلمات المرور باستخدام BCrypt
- إدارة الجلسات (Sessions)
- تحكم في الصلاحيات حسب الدور

### 2. واجهة المستخدم
- تصميم متجاوب يدعم جميع الأجهزة
- دعم كامل للغة العربية (RTL)
- واجهة حديثة وسهلة الاستخدام

### 3. الأداء
- استعلامات محسنة باستخدام LINQ
- تحميل البيانات المرتبطة (Eager Loading)
- فهرسة قاعدة البيانات للبحث السريع

## 📁 هيكل المشروع

```
CriminalCaseManagement/
├── Controllers/          # المتحكمات
├── Models/              # النماذج
├── Views/               # الواجهات
├── ViewModels/          # نماذج العرض
├── Data/                # سياق قاعدة البيانات
├── wwwroot/             # الملفات الثابتة
└── Program.cs           # نقطة البداية
```

## 🔧 التخصيص والتطوير

### إضافة ميزات جديدة:
1. إنشاء النموذج في مجلد `Models`
2. تحديث `ApplicationDbContext`
3. إنشاء Controller جديد
4. إضافة Views المطلوبة

### تغيير قاعدة البيانات:
1. تحديث connection string في `appsettings.json`
2. تغيير provider في `Program.cs`
3. تشغيل migrations

## 📞 الدعم والمساعدة

للحصول على الدعم أو الإبلاغ عن مشاكل:
- إنشاء issue في GitHub
- مراجعة الوثائق
- التواصل مع فريق التطوير

## 📄 الترخيص

هذا المشروع مرخص تحت [MIT License](LICENSE)

---

**تم تطوير هذا النظام لخدمة أجهزة الأمن والعدالة** 🚔⚖️
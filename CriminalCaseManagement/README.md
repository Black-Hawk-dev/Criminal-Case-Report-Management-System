# نظام إدارة التحقيقات والبلاغات الجنائية

## نظرة عامة
نظام متكامل لإدارة التحقيقات والبلاغات الجنائية مبني باستخدام ASP.NET Core MVC مع Entity Framework Core.

## المميزات الرئيسية

### 1. إدارة البلاغات
- إنشاء وتعديل وحذف البلاغات
- تصنيف البلاغات حسب النوع
- تتبع حالة البلاغات
- إرفاق مستندات للبلاغات

### 2. إدارة القضايا
- ربط القضايا بالبلاغات
- تعيين محققين للقضايا
- تتبع حالة القضايا
- إدارة ملاحظات القضايا

### 3. إدارة المتهمين
- تسجيل بيانات المتهمين
- ربط المتهمين بالبلاغات والقضايا
- تتبع حالة المتهمين

### 4. إدارة المحققين
- تسجيل بيانات المحققين
- تعيين المحققين للقضايا
- تتبع نشاط المحققين

### 5. لوحة التحكم
- إحصائيات شاملة
- عرض آخر البلاغات والقضايا
- رسوم بيانية لحالة القضايا

### 6. نظام المستخدمين
- تسجيل دخول آمن
- إدارة الأدوار والصلاحيات
- واجهة مستخدم عربية

## التقنيات المستخدمة

- **ASP.NET Core 8.0** - إطار العمل الرئيسي
- **Entity Framework Core** - ORM لقاعدة البيانات
- **SQL Server** - قاعدة البيانات
- **Bootstrap 5** - واجهة المستخدم
- **Font Awesome** - الأيقونات
- **Identity** - إدارة المستخدمين والمصادقة

## هيكل المشروع

```
CriminalCaseManagement/
├── Controllers/          # Controllers
├── Models/              # Entity Models
├── Views/               # Razor Views
├── Data/                # DbContext
├── ViewModels/          # View Models
├── wwwroot/             # Static Files
└── Program.cs           # Application Entry Point
```

## الكيانات (Entities)

### 1. ApplicationUser
- المستخدمون المخصصون للنظام
- يرث من IdentityUser
- يحتوي على معلومات إضافية مثل الاسم الكامل والدور

### 2. Report (البلاغ)
- معلومات البلاغ الأساسية
- ربط بالمتهمين
- إدارة المرفقات

### 3. Case (القضية)
- ربط بالبلاغات
- تعيين محققين
- تتبع الحالة

### 4. Suspect (المتهم)
- معلومات المتهم الشخصية
- ربط بالبلاغات والقضايا

### 5. Investigator (المحقق)
- معلومات المحقق
- ربط بالقضايا

### 6. Document (المستند)
- إدارة المرفقات
- ربط بالبلاغات والقضايا

## العلاقات بين الكيانات

- **Report** ↔ **Case**: One-to-Many
- **Report** ↔ **Suspect**: Many-to-Many
- **Case** ↔ **Suspect**: Many-to-Many
- **Case** ↔ **Investigator**: Many-to-One
- **Investigator** ↔ **ApplicationUser**: One-to-One

## التثبيت والتشغيل

### المتطلبات
- .NET 8.0 SDK
- SQL Server (LocalDB أو Server)
- Visual Studio 2022 أو VS Code

### خطوات التثبيت

1. **استنساخ المشروع**
```bash
git clone [repository-url]
cd CriminalCaseManagement
```

2. **تثبيت الحزم**
```bash
dotnet restore
```

3. **إنشاء قاعدة البيانات**
```bash
dotnet ef migrations add InitialCreate
dotnet ef database update
```

4. **تشغيل المشروع**
```bash
dotnet run
```

5. **فتح المتصفح**
```
https://localhost:5001
```

## الأدوار والصلاحيات

### 1. مدير النظام (Admin)
- إدارة جميع الوحدات
- إدارة المستخدمين
- عرض التقارير

### 2. محقق (Investigator)
- إدارة القضايا المعينة
- تحديث حالة القضايا
- إضافة ملاحظات

### 3. كاتب بلاغات (Reporter)
- إنشاء البلاغات
- عرض البلاغات الخاصة

## الميزات المستقبلية

- [ ] نظام التقارير المتقدم
- [ ] إشعارات فورية
- [ ] تطبيق موبايل
- [ ] تكامل مع أنظمة خارجية
- [ ] نظام البحث المتقدم
- [ ] إدارة الملفات المتقدمة

## المساهمة

1. Fork المشروع
2. إنشاء branch جديد للميزة
3. Commit التغييرات
4. Push إلى Branch
5. إنشاء Pull Request

## الترخيص

هذا المشروع مرخص تحت رخصة MIT.

## الدعم

للحصول على الدعم أو الإبلاغ عن مشاكل، يرجى إنشاء issue في repository.

## المؤلفون

- تم تطويره بواسطة فريق التطوير

---

**ملاحظة**: هذا النظام مصمم للاستخدام في إدارات الشرطة والجهات الأمنية لإدارة التحقيقات والبلاغات الجنائية.